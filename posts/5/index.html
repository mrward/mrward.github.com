
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Matt Ward</title>
  <meta name="author" content="Matt Ward">

  
  <meta name="description" content="Xamarin Studio 5.0 was released last week as part of the Xamarin 3.0 release and it now has built-in support for NuGet. There is no need to install &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://lastexitcode.com/posts/5">
  <link href="/favicon.ico" rel="icon" type="image/x-icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Matt Ward" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='//fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='//fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-34592677-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Matt Ward</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
  
  
  
  
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="lastexitcode.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/projects/">Projects</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/06/01/NuGetSupportInXamarinStudio5-0/">NuGet Support in Xamarin Studio 5.0</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-06-01T18:25:00+01:00" pubdate data-updated="true">Jun 1<sup>st</sup>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Xamarin Studio 5.0 was released last week as part of the <a href="http://blog.xamarin.com/announcing-xamarin-3/">Xamarin 3.0 release</a> and it now has built-in support for NuGet. There is no need to install the NuGet addin separately into Xamarin Studio 5.0 or MonoDevelop 5.0 since it is now &ldquo;in the box&rdquo;.</p>

<h2>New Features</h2>

<ul>
<li> Re-designed user interface.</li>
<li> More integrated with the Solution window.</li>
<li> Supports <a href="http://docs.nuget.org/docs/reference/search-syntax">NuGet&rsquo;s search syntax</a>.</li>
<li> Background package installation.</li>
<li> Integrates with Xamarin Studio&rsquo;s unified search.</li>
<li> Support for NuGet packages in project templates.</li>
<li> Package restore on opening a solution.</li>
<li> Integrates with Xamarin Studio&rsquo;s credential provider to provide proxy and package source authentication.</li>
</ul>


<p>So let us a look at these features in more detail by looking at how to use the NuGet addin in Xamarin Studio 5.0.</p>

<h2>Adding NuGet Packages</h2>

<p>To add a NuGet package we need to open the <strong>Add Packages</strong> dialog. This can be done in the following ways:</p>

<ul>
<li>From the <strong>Project</strong> menu select <strong>Add Packages</strong>. The project will need to be selected in the <strong>Solution</strong> window.</li>
<li>From the <strong>Solution</strong> window, right click the project and select <strong>Add &ndash; Add Packages</strong>.</li>
</ul>


<p><img src="/images/blog/NuGetSupportInXamarinStudio5-0/AddPackagesMenuOptionSolutionWindow.png" title="Solution Window right click Add Packages menu" alt="Solution Window right click Add Packages menu"></p>

<ul>
<li>From Xamarin Studio&rsquo;s unified search, available in the top right of the main window, enter the name of the package you would like to search for, then select <strong>Search Packages</strong>.</li>
</ul>


<p><img src="/images/blog/NuGetSupportInXamarinStudio5-0/SearchPackagesUsingUnifiedSearch.png" title="Search packages using unified search" alt="Search packages using unified search"></p>

<ul>
<li>Double clicking the <strong>Packages</strong> folder in the <strong>Solution</strong> window will also open the Add Packages dialog (note the Packages folder is only displayed if you have a NuGet package installed in your project).</li>
</ul>


<p>On opening the Add Packages dialog you will see a re-designed user interface.</p>

<p><img src="/images/blog/NuGetSupportInXamarinStudio5-0/AddPackagesDialog.png" title="Add Packages dialog" alt="Add Packages dialog"></p>

<p>If a NuGet package has an associated image then it will now be displayed in the list of packages.</p>

<p>The search text box at the top right of the dialog will now search for packages as you type.</p>

<p>The package source combo box at the top left of the dialog now includes a new <strong>Configure Sources</strong> item which allows you to quickly switch to the configured package sources in preferences and back again to the Add Packages dialog.</p>

<p><img src="/images/blog/NuGetSupportInXamarinStudio5-0/AddPackagesDialogConfigureSources.png" title="Configuring sources from Add Packages dialog" alt="Configuring sources from Add Packages dialog"></p>

<p>The list of packages now has infinite scroll support. As you scroll down the list new packages will be retrieved from the package source and displayed. Previously you had to click a button to move to the next page.</p>

<p>To install a NuGet package in the Add Packages dialog you can do one of the following:</p>

<ul>
<li>Select a package and double click it.</li>
<li>Select a package and press the enter key.</li>
<li>Select a package and press the <strong>Add Package</strong> button.</li>
</ul>


<p>To install two or more NuGet packages you can click the check box next to the package and then select the <strong>Add Packages</strong> button.</p>

<p><img src="/images/blog/NuGetSupportInXamarinStudio5-0/AddPackagesDialogTwoPackagesChecked.png" title="Two packages checked in Add Packages dialog" alt="Two packages checked in Add Packages dialog"></p>

<p>On adding the NuGet package the Add Packages dialog will close and the package installation will complete in the background. You will see status messages appear in the status bar at top of the main window as the installation progresses. The screenshots below show the status messages that are displayed when the NUnit NuGet package is installed.</p>

<p><img src="/images/blog/NuGetSupportInXamarinStudio5-0/AddNUnitPackageStatusBarMessage.png" title="Adding NUnit package status bar message" alt="Adding NUnit package status bar message"></p>

<p><img src="/images/blog/NuGetSupportInXamarinStudio5-0/NUnitPackageAddedSuccessfullyStatusBarMessage.png" title="NUnit package added successfully status bar message" alt="NUnit package added successfully status bar message"></p>

<p>More detailed information about the installation can be seen in the <strong>Package Console</strong> window.</p>

<p><img src="/images/blog/NuGetSupportInXamarinStudio5-0/NUnitPackageAddedPackageConsole.png" title="NUnit package added messages in Package Console" alt="NUnit package added messages in Package Console"></p>

<p>The Package Console can be opened by clicking on a package status message in the status bar or from the <strong>View</strong> menu by selecting <strong>Pads &ndash; Package Console</strong>. If there is an error when installing a NuGet package then the Package Console will automatically open to show more information about the error.</p>

<p>On adding the first NuGet package to a project a <strong>Packages</strong> folder will be displayed in the Solution window.</p>

<p><img src="/images/blog/NuGetSupportInXamarinStudio5-0/SolutionWindowPackagesFolder.png" title="Solution window - Packages folder" alt="Solution window - Packages folder"></p>

<p>Any assembly references that a NuGet package adds to your project will be displayed in
the <strong>From Packages</strong> folder inside <strong>References</strong>.</p>

<p><img src="/images/blog/NuGetSupportInXamarinStudio5-0/SolutionWindowFromPackagesFolder.png" title="Solution window - From Packages folder" alt="Solution window - From Packages folder"></p>

<p>Whilst the NuGet package is being installed the package id text will be highlighted.</p>

<p><img src="/images/blog/NuGetSupportInXamarinStudio5-0/SolutionWindowPackagesBeingAdded.png" title="Solution window - packages being added" alt="Solution window - packages being added"></p>

<p>After the NuGet package is installed the text will be changed to black and a status message will be shown in the status bar.</p>

<h2>Searching for Packages</h2>

<p>The Add Packages dialog now supports the <a href="http://docs.nuget.org/docs/reference/search-syntax">extended NuGet search syntax</a>. Note that the NuGet package source will need to support this syntax. The main NuGet.org package source supports this search syntax.</p>

<p>So you can now make your search more specific by using one of the special tags, such as id, packageid, tags, author or owner. Some example searches are shown below:</p>

<pre><code>id:NUnit
packageid:Xamarin.Forms
tags:typescript
owner:xamarin
author:xamarin
</code></pre>

<h2>Removing NuGet Packages</h2>

<p>You can remove a NuGet package from the Solution window. Expand the <strong>Packages</strong> folder for your project, select the package, right click and select <strong>Remove</strong>, or press the delete key.</p>

<p><img src="/images/blog/NuGetSupportInXamarinStudio5-0/SolutionWindowPackageBeingRemoved.png" title="Solution window - remove package menu" alt="Solution window - package remove menu"></p>

<p>The package will then be uninstalled in the background. Status information will appear in the status bar and more detailed information will be shown in the Package Console window.</p>

<p><img src="/images/blog/NuGetSupportInXamarinStudio5-0/RemovingNUnitPackageStatusBarMessage.png" title="Removing package status bar message" alt="Removing package status bar message"></p>

<p><img src="/images/blog/NuGetSupportInXamarinStudio5-0/NUnitPackageRemovedSuccessfullyStatusBarMessage.png" title="Package removed status bar message" alt="Package removed status bar message"></p>

<h2>Updating NuGet Packages</h2>

<p>You can update an individual NuGet package by selecting it in the <strong>Solution</strong> window, right clicking and selecting <strong>Update</strong>.</p>

<p><img src="/images/blog/NuGetSupportInXamarinStudio5-0/SolutionWindowUpdatePackageMenu.png" title="Solution window - update package menu" alt="Solution window update package menu"></p>

<p>You can update all the packages in a project by right clicking the <strong>Packages</strong> folder and selecting <strong>Update</strong>.</p>

<p><img src="/images/blog/NuGetSupportInXamarinStudio5-0/SolutionWindowUpdateAllProjectPackagesMenu.png" title="Solution window - update all packages in project menu" alt="Solution window update all packages in project menu"></p>

<p>To update all the packages in the solution, either right click the solution in the <strong>Solution</strong> window and select <strong>Update Packages</strong>, or from the <strong>Project</strong> menu select <strong>Update Packages</strong>.</p>

<p>As with adding and removing a NuGet package you will see status bar messages as the update progresses and detailed information in the Package Console window.</p>

<h2>Restoring NuGet Packages</h2>

<p>By default NuGet packages will be automatically restored when a solution is opened.</p>

<p><img src="/images/blog/NuGetSupportInXamarinStudio5-0/RestorePackagesStatusBarMessage.png" title="Packages being restored status bar message" alt="Packages being restored status bar message"></p>

<p><img src="/images/blog/NuGetSupportInXamarinStudio5-0/PackagesRestoredSuccessfullyStatusBarMessage.png" title="Packages restored status bar message" alt="Packages restored status bar message"></p>

<p>You can disable this by going into preferences and unchecking <strong>Automatically restore packages when opening a solution</strong>.</p>

<p><img src="/images/blog/NuGetSupportInXamarinStudio5-0/PreferencesAutomaticPackageRestore.png" title="Preferences - automatic package restore" alt="Preferences - automatic package restore"></p>

<p>With automatic package restore disabled you can manually restore NuGet packages in the following ways:</p>

<ul>
<li>Right click the <strong>Packages</strong> folder in the Solution window and select <strong>Restore</strong>.</li>
<li>Right click the solution and select <strong>Restore Packages</strong>.</li>
<li>From the <strong>Project</strong> menu select <strong>Restore Packages</strong>.</li>
</ul>


<p><img src="/images/blog/NuGetSupportInXamarinStudio5-0/SolutionWindowRestorePackagesMenu.png" title="Solution window - restore packages menu" alt="Solution window - restore packages menu"></p>

<p>The status bar will be updated with information on the progress of the restore. More detailed information can be seen in the Package Console window.</p>

<h2>NuGet Packages in Project Templates</h2>

<p>You can now have a project template that will install NuGet packages. To do this you add a <strong>Packages</strong> element inside the <strong>Project</strong> element of the project template.</p>

<pre><code>&lt;Packages&gt;
    &lt;Package id="NUnit" /&gt;
    &lt;Package id="jQuery" version="1.7.1" /&gt;
&lt;/Packages&gt;
</code></pre>

<p>You can specify an exact version for the NuGet package. If the version is not specified then the latest version of the NuGet package will be installed.</p>

<p>By default Xamarin Studio will look for the NuGet packages from the main NuGet.org package source. To use your own package source instead you can create an addin and define the package source in its .addin.xml file. Inside your .addin.xml file you can add an <strong>Extension</strong> element which supports both online NuGet package sources and local directory package sources.</p>

<p>To define an online NuGet package source you can use the <strong>url</strong> attribute in your .addin.xml file:</p>

<pre><code>&lt;Extension path = "/MonoDevelop/Ide/ProjectTemplatePackageRepositories"&gt;
    &lt;PackageRepository url="https://mynugetfeed.nget/packages" /&gt;
&lt;/Extension&gt;
</code></pre>

<p>If you want your addin to work offline then you can include the NuGet packages with your addin in a subdirectory and use the following extension in your .addin.xml:</p>

<pre><code>&lt;Extension path = "/MonoDevelop/Ide/ProjectTemplatePackageRepositories"&gt;
    &lt;PackageRepository path="packages" /&gt;
&lt;/Extension&gt;
</code></pre>

<p>The <strong>path</strong> attribute here should contain the directory relative to where the addin is installed.</p>

<h2>Package Source and Proxy Authentication</h2>

<p>If a NuGet package source or a proxy needs authentication then Xamarin Studio will prompt for credentials.</p>

<p><img src="/images/blog/NuGetSupportInXamarinStudio5-0/AddPackagesProxyCredentialPrompt.png" title="Proxy credentials dialog prompt" alt="Proxy credentials dialog prompt"></p>

<p>Please note that there is a bug that currently prevents proxy authentication with package sources that use https which will be fixed in the next release of Xamarin Studio.</p>

<h2>Configuring NuGet Package Sources</h2>

<p>NuGet package sources can be configured in preferences.</p>

<p><img src="/images/blog/NuGetSupportInXamarinStudio5-0/PreferencesAddPackageSource.png" title="Preferences - adding package source" alt="Preferences - adding package source"></p>

<p>A new feature here is the ability to specify a username and password for a package source that requires authentication. The username and passwords are encrypted and stored in the NuGet.config file in the same way that NuGet.exe will if you use it on the command line.</p>

<p>That concludes our look at the new NuGet features in Xamarin Studio and MonoDevelop 5.0</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/04/13/MonoDevelopNuGetAddin0-9Released/">MonoDevelop NuGet Addin 0.9 Released</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-13T14:51:00+01:00" pubdate data-updated="true">Apr 13<sup>th</sup>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A new version of the NuGet addin for Xamarin Studio and MonoDevelop has been released.</p>

<h2>New Features</h2>

<p>The main change is to include <a href="http://docs.nuget.org/docs/release-notes/nuget-2.8.1">NuGet 2.8.1</a> which adds support for Windows Phone 8.1 projects.
Also some of the newer NuGet packages, such as Microsoft.Bcl.Immutable 1.1.20-beta, which the <a href="https://www.nuget.org/packages/Microsoft.CodeAnalysis">Roslyn NuGet packages</a> depend on, will not install unless NuGet 2.8.1 is being used.</p>

<p>For a detailed look at the changes please read the <a href="/projects/MonoDevelopNuGetAddin/Releases/0.9/">release note</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/12/15/MonoDevelopNuGetAddin0-8Released/">MonoDevelop NuGet Addin 0.8 Released</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-15T18:22:00+00:00" pubdate data-updated="true">Dec 15<sup>th</sup>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A new version of the NuGet addin for Xamarin Studio and MonoDevelop has been released.</p>

<h2>New Features</h2>

<p>The main change is support for <a href="http://docs.nuget.org/docs/release-notes/nuget-2.7.2">NuGet 2.7.2</a> so you can now add NuGet packages, that include Portable Class Libraries (PCLs), to projects that target MonoAndroid.</p>

<p>For a detailed look at the changes please read the <a href="/projects/MonoDevelopNuGetAddin/Releases/0.8/">release note</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/03/MonoDevelopNuGetAddin0-7Released/">MonoDevelop NuGet Addin 0.7 Released</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-11-03T15:28:00+00:00" pubdate data-updated="true">Nov 3<sup>rd</sup>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A new version of the NuGet addin for Xamarin Studio and MonoDevelop has been released.</p>

<h2>New Features</h2>

<ul>
<li><a href="http://docs.nuget.org/docs/release-notes/nuget-2.7.1">NuGet 2.7.1</a> support.</li>
<li>Improved support for Portable Class Libraries (PCLs) on Linux and Mac.</li>
<li>Support using package restore with different parallel mono environments (Thanks to <a href="https://github.com/kjohnphillip">Kevin John-Philip</a>).</li>
</ul>


<p>For a detailed look at the new features please read the <a href="/projects/MonoDevelopNuGetAddin/Releases/0.7/">release note</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/08/26/MonoDevelopNuGetAddin0-6Released/">MonoDevelop NuGet Addin 0.6 Released</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-08-26T13:21:00+01:00" pubdate data-updated="true">Aug 26<sup>th</sup>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A new version of the NuGet addin for Xamarin Studio and MonoDevelop has been released.</p>

<h2>New Features</h2>

<ul>
<li><a href="http://docs.nuget.org/docs/release-notes/nuget-2.7">NuGet 2.7</a> support.</li>
<li>Support for restoring NuGet packages.</li>
<li>Added message to show that the Manage Packages dialog is searching for packages.</li>
</ul>


<p>For a detailed look at the new features please read the <a href="/projects/MonoDevelopNuGetAddin/Releases/0.6/">release note</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/14/MonoDevelopNuGetAddin0-5Released/">MonoDevelop NuGet Addin 0.5 Released</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-14T15:40:00+01:00" pubdate data-updated="true">Jul 14<sup>th</sup>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A new version of the NuGet addin for Xamarin Studio 4.0 has been released.</p>

<h2>New Features</h2>

<ul>
<li><a href="http://docs.nuget.org/docs/release-notes/nuget-2.6">NuGet 2.6</a> support.</li>
<li>Support for prerelease packages.</li>
<li>Support for packages using <a href="https://xdt.codeplex.com/">XML Document Transformations</a> (XDTs).</li>
<li>File conflict dialog when installing a package that is trying to add files that already exist in the project.</li>
<li>Installation errors now displayed in the Manage Packages dialog.</li>
<li>Support for packages that include MSBuild targets and properties files.</li>
<li>Support for accessing authenticated feeds.</li>
<li>Update All button added to Manage Packages dialog so all packages can be updated in a project or solution in one step.</li>
<li>Package title displayed in the list of packages instead of the package id. The package id displayed when a package is selected on the right hand side of the dialog.</li>
</ul>


<p>For a detailed look at the new features please read the <a href="/projects/MonoDevelopNuGetAddin/Releases/0.5/">release note</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/17/IronPythonErrorAttributeOfNamespaceObjectIsReadOnly/">IronPython Error: Attribute of Namespace Object is Read-Only</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-17T14:40:00+00:00" pubdate data-updated="true">Nov 17<sup>th</sup>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>If you are seeing an AttributeError, as shown below, when running IronPython 2.7 then check you have added all the required assembly reference to your application.</p>

<pre><code>AttributeError: attribute 'Xml' of 'namespace#' object is read-only
</code></pre>

<p>The attribute name displayed will most likely be different but the underlying problem is that you are trying to use a type that exists in an assembly that is not referenced. Here is a simple example that reproduces the error.</p>

<pre><code>import System
doc = System.Xml.XmlDocument()
</code></pre>

<p>The code above is importing the System namespace and then attempting to create an XmlDocument object. Running the above code with ipy.exe will result in the AttributeError being displayed.</p>

<pre><code>D:\projects&gt;ipy
IronPython 2.7.3 (2.7.0.40) on .NET 4.0.30319.296 (32-bit)
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; import System
&gt;&gt;&gt; doc = System.Xml.Document()
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
AttributeError: attribute 'Xml' of 'namespace#' object is read-only
&gt;&gt;&gt;
</code></pre>

<p>The cryptic error message indicates that we do not have a reference to the System.Xml assembly. To fix the problem we add the following two lines of code before the code that creates the XmlDocument object.</p>

<pre><code>import clr
clr.AddReference("System.Xml")
</code></pre>

<p>Running the code again will now cause the XmlDocument object to be created without an error.</p>

<pre><code>D:\projects&gt;ipy
IronPython 2.7.3 (2.7.0.40) on .NET 4.0.30319.296 (32-bit)
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; import clr
&gt;&gt;&gt; clr.AddReference("System.Xml")
&gt;&gt;&gt; import System
&gt;&gt;&gt; doc = System.Xml.XmlDocument()
&gt;&gt;&gt; doc.ToString()
'System.Xml.XmlDocument'
&gt;&gt;&gt;
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/09/26/CloneCodePlexRepositoryToGitHub/">Cloning a CodePlex Repository over to GitHub</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-09-26T16:36:00+01:00" pubdate data-updated="true">Sep 26<sup>th</sup>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>How do you clone a CodePlex Git repository over to GitHub?</p>

<p>Here we take a look at how to clone the<a href="http://entityframework.codeplex.com/"> Entity Framework Git repository</a>, which is available on CodePlex, over to GitHub. The goal is to be able to take new commits from the original CodePlex Git repository and update the repository being hosted on GitHub.</p>

<ol>
<li><p>Create a repository on GitHub.</p>

<p> Do not initialise the repository with a readme file just create the repository. We are going to call this repository entityframework-sharpdevelop since this will be a port of the Entity Framework which will work with SharpDevelop.</p></li>
<li><p>Clone the CodePlex repository to your local machine.</p>

<p> Using your favourite Git client clone the Entity Framework repository at CodePlex to your local machine.</p>

<pre><code> git clone https://git01.codeplex.com/entityframework entityframework
</code></pre></li>
<li><p>Configure Git Remotes</p>

<p> Our goal is to have a setup similar to the following.</p>

<pre><code> git remote -v

 origin  git@github.com:mrward/entityframework-sharpdevelop.git (fetch)
 origin  git@github.com:mrward/entityframework-sharpdevelop.git (push)
 upstream        https://git01.codeplex.com/entityframework (fetch)
 upstream        https://git01.codeplex.com/entityframework (push)
</code></pre>

<p> We want an upstream remote that points to the original Entity Framework repository on CodePlex. We also want an origin remote that points our GitHub repository</p>

<p> First we create the upstream remote by renaming the origin remote. From inside the entityframework folder we run the following command.</p>

<pre><code> git remote rename origin upstream
</code></pre>

<p> Now we add the new origin remote.</p>

<pre><code> git remote add origin git@github.com:mrward/entityframework-sharpdevelop.git
</code></pre>

<p> Run <strong>git remote -v</strong> to check that the configuration is correct.</p></li>
<li><p>Push the code to GitHub</p>

<pre><code> git push -u origin master
</code></pre></li>
<li><p>Get the latest Entity Framework Commits into GitHub</p>

<p> Now when you want to get the latest Entity Framework commits from CodePlex you can run the following commands to merge these commits into your local master branch.</p>

<pre><code> git fetch upstream
 git merge upstream/master
</code></pre>

<p> Then you can push the changes up to GitHub.</p></li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/09/26/CreatingAGitHubHostedBlogWithOctopress/">Creating a GitHub hosted blog with Octopress</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-09-26T13:55:00+01:00" pubdate data-updated="true">Sep 26<sup>th</sup>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://octopress.org/">Octopress</a> is a blogging framework created by Brandon Mathis. Octopress has great documentation on how to setup Octopress on a <a href="http://pages.github.com/">GitHub hosted blog</a> which this guide is not trying to replace. The following guide is a simple overview of how to setup Octopress with Windows being used to create the blog posts and push them to GitHub.</p>

<h2>Prerequisites</h2>

<ol>
<li>You have GitHub account.</li>
<li>You have a Git client, such as Tortoise Git, installed.</li>
</ol>


<h2>Software Versions</h2>

<p>This guide is based on the using the following software:</p>

<ul>
<li>Octopress 2.0</li>
<li>Windows 7 (client machine)</li>
<li>Ruby 1.9.3</li>
</ul>


<h2>How to setup a GitHub based blog with Octopress</h2>

<ol>
<li>Download and install Ruby 1.9.3 from <a href="http://rubyinstaller.org/downloads/">http://rubyinstaller.org/downloads/</a></li>
<li><p>Add ruby to your path</p>

<pre><code> PATH=c:\ruby193\bin
</code></pre></li>
<li><p>Download the <a href="https://GitHub.com/oneclick/rubyinstaller/wiki/Development-Kit">Ruby devkit</a> from <a href="http://rubyinstaller.org/downloads/">http://rubyinstaller.org/downloads/</a></p>

<p> Extract to c:\RubyDevKit</p>

<p> Change into this folder and run</p>

<pre><code> ruby dk.rb init
 ruby dk.rb install
</code></pre>

<p> If you do not install the Ruby devkit then you will get an error when running setting up Octopress and running gem in step 5):</p>

<pre><code> Gem::InstallError: The 'posix-spawn' native gem requires installed build tools.
</code></pre></li>
<li><p>Clone octopress</p>

<pre><code> git://GitHub.com/imathis/octopress.git octopress
</code></pre></li>
<li><p>Setup Octopress</p>

<p> Open a command prompt in the octopress folder. Run the following commands</p>

<pre><code> gem install bundler
 bundle install
 rake install
 rake generate
 rake preview
</code></pre>

<p> Then open a browser and go to <a href="http://localhost:4000">http://localhost:4000</a> to view your blog.</p></li>
<li><p>Create a GitHub repository for your blog</p>

<p> See the <a href="http://octopress.org/docs/deploying/github/">Octopress guide</a>.</p>

<p> Create a new repository in GitHub that has your GitHub username followed by .github.com (e.g. mrward.github.com).</p></li>
<li><p>Deploy your blog to GitHub</p>

<p> From the octopress folder run</p>

<pre><code> rake setup_GitHub_pages
 rake generate
 rake deploy
</code></pre>

<p> The deploy command will cause your blog to be pushed to the master branch of your GitHub repository. Your blog will then be published and accessible via <a href="http://username.github.com">http://username.github.com</a> (where username is replaced with your GitHub username).</p>

<p> Then you will need to commit your changes made in the source branch and push them to GitHub.</p>

<p> You now have a repository on GitHub containing your blog. It will have two branches master and source. The master branch contains your blog web pages. The source branch contains the octopress files and your original blog posts. On your local machine the master branch will exist in the _deploy folder. The octopress folder will be tracking the source branch.</p></li>
<li><p>Configure your blog</p>

<p> You will want to configure various settings, such as google analytics, for your blog. The <a href="http://octopress.org/docs/configuring/">documentation on the Octopress site</a> has the full details on how to configure everything.</p></li>
<li><p>Creating blog posts</p>

<p> From the Octopress folder run:</p>

<pre><code> rake new_post["Name of your post"]
</code></pre>

<p> This will generate a file in the source\_posts folder which you can edit.</p>

<p> To generate your blog and preview it in the browser run</p>

<pre><code> rake generate
 rake preview
</code></pre>

<p> The generate command will regenerate your blog web pages in the public folder. You will need to copy these files to the _deploy folder. The final step is then to commit and push your changes to GitHub. You will want to commit the changes made in the Octopress folder (i.e. the source branch) and also your blog pages in the _deploy folder (i.e. the master branch). You can use the rake deploy command to automate this copying of pages, committing and pushing your blog web pages to GitHub but if you want more control over the commit message then you can do this final set of steps yourself and commit the pages using your favourite Git client.</p></li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/09/25/ExecutionEngineExceptionThrownWhenUsingCodeContracts/">ExecutionEngineException thrown when using Code Contracts</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-09-25T17:35:00+01:00" pubdate data-updated="true">Sep 25<sup>th</sup>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Whilst changing the Entity Framework 5.0 NuGet package to work with <a href="http://www.icsharpcode.net/OpenSource/SD/">SharpDevelop</a> a custom build of the NuGet package was causing Visual Studio 2010 to crash when the package was being installed. Debugging the crash by attaching another instance of Visual Studio revealed that an <a href="http://msdn.microsoft.com/en-us/library/system.executionengineexception.aspx">ExecutionEngineException</a> was being thrown when the following line of code was being executed.</p>

<pre><code>Contract.Requires(project != null);
</code></pre>

<p>The exception itself had no other information. The exception&rsquo;s message just repeated the exception that was being thrown: &ldquo;Exception of type &lsquo;System.ExecutionEngineException&rsquo; was thrown.&rdquo;. This exception indicates an internal error occurred in the CLR execution engine.</p>

<p>The real problem is the use of <a href="http://research.microsoft.com/en-us/projects/contracts/">Code Contracts</a> and not following the <a href="http://entityframework.codeplex.com/documentation">Entity Framework documentation on how to build it from source code</a>.</p>

<p>The <a href="http://msdn.microsoft.com/en-us/library/system.diagnostics.contracts.contract.aspx">Contract</a> class is used to define required preconditions and postconditions for a method and is used when defining Code Contracts. It is part of the .NET Framework 4.0 and can be found in mscorlib.dll in the System.Diagnostics.Contracts namespace.</p>

<p>The problem with the custom build of Entity Framework is that there are parts of Code Contracts included with .NET Framework 4.0 so you can compile a project that uses Code Contracts without any errors but on running the application you can have an ExecutionEngineException thrown. This can occur if you do not have the <a href="http://msdn.microsoft.com/en-us/devlabs/dd491992.aspx">Code Contracts Visual Studio extension</a> installed when the project is built. With this extension installed your assembly will be modified when it is compiled by the code contracts binary rewriter.  The rewriter will inject the contracts into your assembly so the checks will be run when the code is executed.</p>

<h2>Solution</h2>

<p>To get around this problem you have two options.</p>

<ol>
<li><p>Install the <a href="http://msdn.microsoft.com/en-us/devlabs/dd491992.aspx">Code Contracts</a> Visual Studio extension and then rebuild your project. After installing you should have a Code Contracts page in your project options.</p></li>
<li><p>Remove <a href="http://msmvps.com/blogs/luisabreu/archive/2008/11/12/code-contracts-and-runtime-rewriting.aspx">CONTRACTS_FULL</a> from the conditional compilation symbols in the project&rsquo;s options.</p></li>
</ol>


<p>CONTRACTS_FULL is used to enable runtime checking of the code contracts. If this is not defined then the calls made to the any of Contract methods are ignored by the compiler when building your project.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/6">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/4">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    
  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2018 - Matt Ward -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a> | Themed with <a href="https://github.com/lucaslew/whitespace">Whitespace</a></span>
</p>

</footer>
  










  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
